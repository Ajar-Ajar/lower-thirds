<head>
  <title>lower-thirds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
</head>
<body>
  
</body>
<template name="app">
  {{> nav}}
  {{> main}}
  <!--   {{> footer}} -->
  <!--   {{> loading}} -->
</template>

<template name="nav">
  <div class="main nav">
    <div class="ui inverted main menu">
      <div class="container">
        <div class="left menu">
          <div class="title item">
            <b>Lower Thirds</b>
          </div><a href="/" class="launch item">Home</a><a href="/contact" class=
          "launch item">Contact</a>
        </div>

        <div class="right menu">
          <a href="/info" class="item">Info</a>
        </div>
        {{#if currentUser}}
        <div class="ui right item">
          <a href="/logout">logout</a>
        </div>
        {{/if}}
      </div>
    </div>
  </div>
</template>

<template name="main">
{{#if currentUser}}
<div class="ui container">
  <p></p>
<!--   <a class="ui labeled icon button" href="/">
    <i class="left arrow icon"></i>
    Back
  </a> -->
  <div class="ui right floated horizontal statistic">
    <div class="value">
      {{rooms.count}}
    </div>
    <div class="label">
      Rooms
    </div>
  </div>
  <div class="ui statistic">
    <div class="label">Hi {{userID}}, you have </div>
  </div>
</div>
  <p>&nbsp;</p>
<div class="ui raised very padded  container segment">
  <div class="ui cards">
    {{#each rooms}}
      {{> room}}
    {{/each}}
    <a class="ui card center" href="/room/new">
      <button class="circular ui icon orange button">
        <i class="icon plus"></i>
      </button>
    </a>
  </div>
</div>
{{else}}
  <h1 class="ui header">Welcome to Lower Thirds!</h1>
  {{> loginButtons}} 
{{/if}}   
</template>
<template name="room">
  <a class="ui card {{#if slots.count}}green{{/if}}" href="/room/:{{_id}}">
    <div class="content">
      {{#if slots.count}}
        <a class="ui green right ribbon label">{{slots.count}} Slots</a>         
      {{else}}
        <a class="ui grey right ribbon label">No slots</a>
      {{/if}}

      <div class="header">{{title}}</div>
    </div>
    <div class="content">some data on this room
    </div>
    <div class="extra content">
      <a class="ui button" href="/room/:{{_id}}">Enter Room</a>
    </div>
  </a>
</template>
<template name="roomPage">
{{#if currentUser}}
<div class="ui container">
  <p></p>
  <a class="ui labeled icon button" href="/">
    <i class="left arrow icon"></i>
    Back
  </a>
  <div class="ui right floated horizontal statistic">
    <div class="value">
      {{slots.count}}
    </div>
    <div class="label">
      Slots
    </div>
  </div>
  <div class="ui statistic">
    <div class="label">{{title}} </div>
  </div>
</div>

<div class="ui raised very padded  container segment">
  <div class="ui compact clearing segments">
    {{#each slots}}
      {{> slot}}
    {{/each}}            
    <a class="ui segment center" href="/slot/new">
      <button class="circular ui icon orange button">
        <i class="icon plus"></i>
      </button>
    </a>
  </div>

  <div class="ui container">
    {{#if slots.count}}
    <div class="ui embed shadow" data-source="youtube" data-id="hgjyr6BPAtA" ></div>
    {{/if}}
  </div>
</div>
{{else}}
  {{> loginButtons}} 
{{/if}}   
</template>
<template name="slot">
   <div class="ui segment {{#if isEdited}}disabled{{/if}} {{#if isPlaying}}yellow{{/if}}">
    {{#if isEdited}}
      <div class="ui corner left label mini"><i class="lock icon"></i></div>
    {{/if}}
    
    {{name}}

    {{#if isEdited}}
    {{else}}
      <div class="ui right floated icon button circular tiny">
      {{#if isPlaying}}
        <i class="stop icon"></i>
      {{else}}
        <i class="play icon"></i>
      {{/if}}
      </div>
    {{/if}}
  </div>
</template>
<template name="slotAsItem">
    <div class="item {{#if isEdited}}disabled{{/if}} {{#if isPlaying}}yellow{{/if}}">
      {{#if isEdited}}
        <div class="ui corner left label mini"><i class="lock icon"></i></div>
      {{/if}}
      <div class="ui small image">
        {{name}}
      </div>
      <div class="middle aligned content">
        <div class="header">
          {{main_text}}
        </div>
        <div class="description">
          <p>{{secondary_text}}</p>
        </div>
        <div class="extra">
          <!-- <div class="ui right floated button">
            Action
          </div> -->
          {{#if isEdited}}
          {{else}}
            <div class="ui right floated icon button circular tiny">
            {{#if isPlaying}}
              <i class="stop icon"></i>
            {{else}}
              <i class="play icon"></i>
            {{/if}}
            </div>
          {{/if}}          
        </div>
      </div>
    </div>
</template>
<!-- <template name="footer">
  <div class="main footer">
    <div class="ui divider"></div>

    <div class="ui divided horizontal footer link list">
      <div class="item">
        satisfy
      </div>

      <div class="item">
        v 0.1.1
      </div>

      <div class="item">
        &copy; Anachron
      </div><a href="https://github.com/Anachron/satisfy" class="item">Homepage</a>
    </div>
  </div>  
</template>

<template name="loading">
  <div class="ui active inverted main dimmer" style="display: none;">
    <div class="loader">
      Loading, please wait.
    </div>
  </div>
</template>
 -->